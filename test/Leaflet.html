<!DOCTYPE html>
<html>
<head>
  <title>OSM Buildings</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    #map {
      width: 100%;
      height: 100%;
    }
  </style>
  <link rel="stylesheet" href="../dist/OSMBuildings/OSMBuildings.css">
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css">
  <script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet-src.js"></script>
  <script src="../src/engines/Leaflet/index.js"></script>
  <script src="loader.js"></script>
</head>

<body>

<div id="map"></div>

<script>
  var map = new L.Map('map').setView([52.50440, 13.33522], 17);
  new L.TileLayer(
    'https://{s}.tiles.mapbox.com/v3/osmbuildings.kbpalbpk/{z}/{x}/{y}.png',
    { attribution: 'Map tiles &copy; <a href="http://mapbox.com">MapBox</a>', maxNativeZoom: 19, maxZoom: 21 }
  ).addTo(map);

  var osmb = new L.OSMBuildings({
    baseURL: './OSMBuildings',
    minZoom: 14.5,
    maxZoom: 22,
    // showBackfaces: true, // render front and backsides of polygons. false increases performance, true might be needed for bad geometries
    // fastMode: true,
    // effects: ['shadows', 'outlines'],
    effects: ['shadows'],
    attribution: 'Â© 3D <a href="https://osmbuildings.org/copyright/">OSM Buildings</a>'
  }).addTo(map);

//  L.control.layers({}, { Buildings: osmb }).addTo(map);

//  osmb.addMapTiles();

  osmb.addGeoJSONTiles(
    'https://{s}.data.osmbuildings.org/0.2/anonymous/tile/{z}/{x}/{y}.json',
    {
      fixedZoom: 15
    });

//  map.on('pointermove', function(e) {
//    osmb.getTarget(e.detail.x, e.detail.y, function(id) {
//      if (id) {
//        document.body.style.cursor = 'pointer';
//        osmb.highlight(id, '#f08000');
//      } else {
//        document.body.style.cursor = 'default';
//        osmb.highlight(null);
//      }
//   });
//  });
</script>
</body>
</html>
